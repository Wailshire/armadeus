From 093b396bc55a3ca43a93973e79cdaccb43d9f8d6 Mon Sep 17 00:00:00 2001
From: Bernhard Reutner-Fischer <rep.dot.nop@gmail.com>
Date: Thu, 25 Sep 2008 08:50:56 +0000
Subject: - arm eabi needs __UCLIBC_TRUNCATE64_HAS_4_ARGS__

  (75_all_uClibc-arm-ftruncate64.patch from gentoo)
---
diff --git a/libc/sysdeps/linux/arm/bits/uClibc_arch_features.h b/libc/sysdeps/linux/arm/bits/uClibc_arch_features.h
index 85c9adb..0e33f9c 100644
--- a/libc/sysdeps/linux/arm/bits/uClibc_arch_features.h
+++ b/libc/sysdeps/linux/arm/bits/uClibc_arch_features.h
@@ -12,7 +12,11 @@
 #undef __UCLIBC_MMAP_HAS_6_ARGS__
 
 /* does your target use syscall4() for truncate64 ? (32bit arches only) */
+#ifdef __ARM_EABI__
+#define __UCLIBC_TRUNCATE64_HAS_4_ARGS__
+#else
 #undef __UCLIBC_TRUNCATE64_HAS_4_ARGS__
+#endif
 
 /* does your target have a broken create_module() ? */
 #define __UCLIBC_BROKEN_CREATE_MODULE__
--
cgit v0.8.2.1
