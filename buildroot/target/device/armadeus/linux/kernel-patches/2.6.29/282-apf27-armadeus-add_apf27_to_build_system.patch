Index: linux-2.6.29.4/arch/arm/mach-mx2/Kconfig
===================================================================
--- linux-2.6.29.4.orig/arch/arm/mach-mx2/Kconfig	2009-06-08 16:58:38.000000000 +0200
+++ linux-2.6.29.4/arch/arm/mach-mx2/Kconfig	2009-06-08 17:20:05.000000000 +0200
@@ -10,6 +10,20 @@
 comment "MX2 Platforms"
 	depends on ARCH_MX2
 
+config MACH_APF27
+	bool "Armadeus Systems APF27"
+	depends on MACH_MX27
+	select MXC_ULPI
+	help
+	  Include support for APF27 platform. This includes specific
+	  configurations for the module and its peripherals.
+
+config MACH_APF27_FPGA
+	bool "board has a FPGA"
+	depends on MACH_APF27
+	help
+	  Select this if your APF27 has an onboard FPGA.
+
 config MACH_MX27ADS
 	bool "MX27ADS platform"
 	depends on MACH_MX27
Index: linux-2.6.29.4/arch/arm/mach-mx2/Makefile
===================================================================
--- linux-2.6.29.4.orig/arch/arm/mach-mx2/Makefile	2009-06-08 16:58:37.000000000 +0200
+++ linux-2.6.29.4/arch/arm/mach-mx2/Makefile	2009-06-08 17:16:03.000000000 +0200
@@ -10,6 +10,7 @@
 obj-$(CONFIG_MACH_MX27) += clock_imx27.o
 obj-$(CONFIG_CPU_FREQ_IMX27) +=  cpufreq_imx27.o
 
+obj-$(CONFIG_MACH_APF27)	+= apf27.o
 obj-$(CONFIG_MACH_MX27ADS) += mx27ads.o
 obj-$(CONFIG_MACH_PCM038) += pcm038.o
 obj-$(CONFIG_MACH_PCM970_BASEBOARD) += pcm970-baseboard.o
